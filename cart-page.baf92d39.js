function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=e.parcelRequirea36e;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var l=new Error("Cannot find module '"+t+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(t,e){a[t]=e},e.parcelRequirea36e=o);var l=o("8X9V8");var r=t(o("1Gatq")).template({compiler:[8,">= 4.3.0"],main:function(t,e,n,a,o){var l,r=null!=e?e:t.nullContext||{},c=t.hooks.helperMissing,i="function",s=t.escapeExpression,u=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<li class="cart__item" id='+s(typeof(l=null!=(l=u(n,"id")||(null!=e?u(e,"id"):e))?l:c)===i?l.call(r,{name:"id",hash:{},data:o,loc:{start:{line:1,column:26},end:{line:1,column:32}}}):l)+'>\n\t<div class="cart__img-wrapper">\n\t\t<img src='+s(typeof(l=null!=(l=u(n,"img")||(null!=e?u(e,"img"):e))?l:c)===i?l.call(r,{name:"img",hash:{},data:o,loc:{start:{line:3,column:11},end:{line:3,column:18}}}):l)+" alt="+s(typeof(l=null!=(l=u(n,"name")||(null!=e?u(e,"name"):e))?l:c)===i?l.call(r,{name:"name",hash:{},data:o,loc:{start:{line:3,column:23},end:{line:3,column:31}}}):l)+' class="cart__img" width="50" height="80" />\n\t</div>\n\t<div class="cart__book-info">\n\t\t<div>\n\t\t\t<p class="cart__book-info-author">'+s(typeof(l=null!=(l=u(n,"author")||(null!=e?u(e,"author"):e))?l:c)===i?l.call(r,{name:"author",hash:{},data:o,loc:{start:{line:7,column:37},end:{line:7,column:47}}}):l)+'</p>\n\t\t\t<p class="cart__book-info-name">'+s(typeof(l=null!=(l=u(n,"name")||(null!=e?u(e,"name"):e))?l:c)===i?l.call(r,{name:"name",hash:{},data:o,loc:{start:{line:8,column:35},end:{line:8,column:43}}}):l)+'</p>\n\t\t</div>\n\t\t<div class="cart__book-wrapper">\n\t\t\t<div class="cart__book-amount">\n\t\t\t\t<button class="cart__book-amount-btn" data-action="incr">\n\t\t\t\t\t+\n\t\t\t\t</button>\n\t\t\t\t<span class="cart__book-amount-text">1</span>\n\t\t\t\t<button class="cart__book-amount-btn" data-action="decr">\n\t\t\t\t\t-\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<p class="cart__book-price"><span>'+s(typeof(l=null!=(l=u(n,"price")||(null!=e?u(e,"price"):e))?l:c)===i?l.call(r,{name:"price",hash:{},data:o,loc:{start:{line:20,column:37},end:{line:20,column:46}}}):l)+"</span> $</p>\n\t\t</div>\n\t</div>\n</li>"},useData:!0}),c=(l=o("8X9V8"),o("a3EOO"));function i(t){if("BUTTON"===t.target.nodeName){const e=Number(t.target.closest("li").getAttribute("id")),n=(0,c.getBooksFromStorage)("booksInCart"),a=n.find((t=>t.id===e));"incr"===t.target.dataset.action?a.quantity++:"decr"===t.target.dataset.action&&a.quantity--,localStorage.setItem("booksInCart",JSON.stringify(n))}}o("a3EOO");const s=(0,o("kNYXh").setBooksCountInCart)();s&&l.refs.cartMessage.classList.add("cart__message--none"),function(){const t=s.map(r);l.refs.bookList.insertAdjacentHTML("beforeend",t.join(""))}(),document.querySelectorAll(".cart__list .cart__item").forEach((t=>{let e=t.querySelector(".cart__book-amount-text");const n=t.querySelector('button[data-action="incr"]'),a=t.querySelector('button[data-action="decr"]');let o=t.querySelector(".cart__book-price span");l.refs.paymentTotalPrice.textContent=Number(l.refs.paymentTotalPrice.textContent)+Number(o.textContent),0==e.textContent&&(a.disabled=!0,a.classList.add("cart__book-amount-btn--disabled")),n.addEventListener("click",(t=>{"incr"===t.target.dataset.action&&(i(t),e.textContent++,l.refs.paymentTotalPrice.textContent=Number(l.refs.paymentTotalPrice.textContent)+Number(o.textContent)),e.textContent>0&&(a.disabled=!1,a.classList.remove("cart__book-amount-btn--disabled"))})),a.addEventListener("click",(t=>{"decr"===t.target.dataset.action&&(i(t),e.textContent--,l.refs.paymentTotalPrice.textContent=Number(l.refs.paymentTotalPrice.textContent)-Number(o.textContent)),e.textContent<=0&&(a.disabled=!0,a.classList.add("cart__book-amount-btn--disabled"))}))}));
//# sourceMappingURL=cart-page.baf92d39.js.map
