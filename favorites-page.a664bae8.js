var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},o=t.parcelRequirea36e;null==o&&((o=function(t){if(t in e)return e[t].exports;if(t in n){var o=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,o.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){n[t]=e},t.parcelRequirea36e=o);var a=o("8X9V8"),r=o("gWCdu"),i=(a=o("8X9V8"),o("a3EOO"));function s(t){if("BUTTON"===t.target.nodeName){const e=Number(t.target.closest("li").getAttribute("id")),n=(0,i.getBooksFromStorage)("booksInCart"),o=n.find((t=>t.id===e));"incr"===t.target.dataset.action&&o.quantity++,"decr"===t.target.dataset.action&&o.quantity--,localStorage.setItem("booksInCart",JSON.stringify(n))}}var c=o("kNYXh");const d=(0,c.setBooksCountInFav)();d&&a.refs.favMessage.classList.add("fav__message--none"),function(){const t=d.map(r.default);a.refs.favoritesList.insertAdjacentHTML("beforeend",t.join(""))}(),(0,c.setBooksCountInFav)(),(0,c.setBooksCountInCart)(),document.querySelectorAll(".cart__list .cart__item").forEach((t=>{let e=t.querySelector(".cart__book-amount-text");const n=t.querySelector('button[data-action="incr"]'),o=t.querySelector('button[data-action="decr"]');let r=t.querySelector(".cart__book-price span");a.refs.paymentTotalPrice.textContent=Number(a.refs.paymentTotalPrice.textContent)+Number(r.textContent),0==e.textContent&&(o.disabled=!0,o.classList.add("cart__book-amount-btn--disabled")),n.addEventListener("click",(t=>{"incr"===t.target.dataset.action&&(s(t),e.textContent++,a.refs.paymentTotalPrice.textContent=Number(a.refs.paymentTotalPrice.textContent)+Number(r.textContent)),e.textContent>0&&(o.disabled=!1,o.classList.remove("cart__book-amount-btn--disabled"))})),o.addEventListener("click",(t=>{"decr"===t.target.dataset.action&&t.target.previousElementSibling.textContent>1&&(s(t),e.textContent--,a.refs.paymentTotalPrice.textContent=Number(a.refs.paymentTotalPrice.textContent)-Number(r.textContent)),e.textContent<1&&(o.disabled=!0,o.classList.add("cart__book-amount-btn--disabled"))}))}));
//# sourceMappingURL=favorites-page.a664bae8.js.map
